{% extends 'basel.twig' %}
{% block javascripts %}
   <script language = "javascript"
      src = "https://code.jquery.com/jquery-2.2.4.min.js"></script>

   <script language = "javascript">
      $(document).ready(function(){
         $("#loadadherent").on("click", function(event){
            $.ajax({
               url:        '/adherent/ajax',
               type:       'POST',
               dataType:   'json',
               async:      true,

               success: function(data, status) {
                  var e = $('<tr><th>Nom</th><th>Adresse</th></tr>');
                  $('#adherent')l('');
                  $('#adherent').append(e);

                  for(i = 0; i < data.length; i++) {
                     adherent = data[i];
                     var e = $('<tr><td id = "nom"></td><td id = "adresse"></td></tr>');

                     $('#nom', e)l(student['nom']);
                     $('#adresse', e)l(student['adresse']);
                     $('#adherent').append(e);
                  }
               },
               error : function(xhr, textStatus, errorThrown) {
                  alert('Ajax request failed.');
               }
            });
         });
      });
   </script>
{% endblock %}

{% block stylesheets %}
   <style>
      .table { border-collapse: collapse; }
      .table th, td {
         border-bottom: 1px solid #ddd;
         width: 250px;
         text-align: left;
         align: left;
      }
   </style>
{% endblock %}

{% block body %}
   <a id = "loadadherent" href = "#">Load adherent information</a>
   </br>
   </br>

   <table class = "table">
      <tbody id = "adherent"></tbody>
   </table>
{% endblock %}