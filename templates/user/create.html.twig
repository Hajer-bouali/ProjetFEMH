{% extends 'base.html.twig' %}

{% block title %}Modification du profil de {{ app.user.firstname }} {{ app.user.name }}
{% endblock %}

{% block body %}
	<!-- Main content -->
	<div
		class="content-wrapper">

		<!-- Page header -->
		<div class="page-header page-header-light">
			<div class="page-header-content header-elements-md-inline">
				<div class="d-flex">
					<div class="breadcrumb">
						<a href="{{path('user_index')}}" class="breadcrumb-item">
							<i class="icon-home2 mr-2"></i>
							Liste des utilisateurs</a>
						<a href="{{path('user_create')}}" class="breadcrumb-item">Créer un nouvel utilisateur</a>
					</div>
				</div>
			</div>
		</div>
		<!-- /page header -->
		<div class="grix xs4 container">
			<div class="col-xs4">
				<input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
				<div class="col-12">
					<div class="col-xs4">
						<div class="content-wrapper">

							<div
								class="content">

								<!-- Inner container -->
								<div
									class="d-flex align-items-start flex-column flex-md-row">
									<!-- Left content -->
									<div class="tab-content w-100 overflow-auto order-2 order-md-1">
										<div
											class="tab-pane fade active show" id="settings">
											<!-- Profile info -->
											<div class="card">
												<div class="card-header bg-white header-elements-inline">
													<h5 class="card-title">Créer un nouvelle utilisateur</h5>
													<div class="header-elements"></div>
												</div>

												<div class="card-body"> {{ form_start(formCreerProfil) }}
													<div class="row">
														<div class="col-md-4">
															<label>Information général<label></div>
																<div class="col-md-8">
																	<div class="row">
																		<div class="col-md-8">
																			<label>Nom</label> {{ form_widget(formCreerProfil.name , {attr:{'class':'form-control','placeholder':'Nom'}}) }}
																		</div>
																	</div>
																	<div class="row">
																		<div class="col-md-8">
																			<label>Prénom</label> {{ form_widget(formCreerProfil.firstname , {attr:{'class':'form-control','placeholder':'Prenom'}}) }}
																		</div>
																	</div>
																	<div class="row">
																		<div class="col-md-8">
																			<label>Email</label> {{ form_widget(formCreerProfil.email , {attr:{'class':'form-control','placeholder':'Email'}}) }}
																		</div>
																	</div>
																</div>
															</div>
															<div class="row">
																<div class="col-md-4">
																	<label>Information spécifique<label></div>
																		<div class="col-md-8">
																			<div class="row">
																				<div class="col-md-8">
																					<label>Mot de passe</label> {{ form_widget(formCreerProfil.plainPassword , {attr:{'class':'form-control'}}) }}
																				</div>
																			</div>
																			<div class="row">
																				{% if is_granted('ROLE_ADMIN') %}

																					<div class="col-md-8">
																						<label>Role</label> {{ form_widget(formCreerProfil.roles , {attr:{'class':'form-check-input','type':'radio'}}) }}
																					</div>

																				{% endif %}
																			</div>
												
																			<div class="text-right"> {{ form_row(formCreerProfil.Enregistrer , {attr:{'class':'btn btn-primary'}}) }} {{ form_end(formCreerProfil) }}
																			</div>
																		</div>
																	</div>
																</div>
															</div>

														</div>

													</div>


												</div>
											</div>

											<!-- /profile info -->

										</div>
									</div>
									<!-- /left content -->
								</div>
								<!-- /inner container -->
							</div>
							<!-- Content area -->
							<div class="content"></div>
							<!-- /content area -->
						</div>


					</div>

				</div>
			</div>
		{% endblock %}
		{% block javascript %}
		<script type="text/javascript">
				$('document').ready(function(){
					$('#edit_form_roles input').change(function(){
						$('#edit_form_roles input').prop( "checked", false );
						$(this).prop( "checked", true );
					});
				});
		</script>
		{% endblock %}