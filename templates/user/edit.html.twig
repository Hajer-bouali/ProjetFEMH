{% extends 'base.html.twig' %}

{% block title %}Modification du profil de {{ user.firstname }} {{user.name }}
{% endblock %}

{% block body %}
	<div class="content-wrapper">
		<div class="page-header page-header-light">
			<div class="page-header-content header-elements-md-inline">
				<div class="d-flex">
					<div class="breadcrumb">
						<a href="{{path('user_index')}}" class="breadcrumb-item">
							<i class="icon-list mr-2"></i>
							Liste des utilisateurs</a>
					</div>
				</div>
			</div>
		</div>
		<div class="grix xs4 container">
			<div class="col-xs4">
				<input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
				<div class="col-12">
					<div class="col-xs4">
						<div class="content-wrapper">

							<div
								class="content">

								<!-- Inner container -->
								<div
									class="d-flex align-items-start flex-column flex-md-row">
									<!-- Left content -->
									<div class="tab-content w-100 overflow-auto order-2 order-md-1">
										<div
											class="tab-pane fade active show" id="settings">
											<!-- Profile info -->
											<div class="card">
												<div class="card-header header-elements-inline">
													<h5 class="card-title">Modification du profil</h5>
													<div class="header-elements"></div>
												</div>

												<div class="card-body"> {{ form_start(formedituser) }}
													<div class="form-group">
														<div class="row">
															<div class="col-md-6">
																<label>Nom</label> {{ form_widget(formedituser.name , {attr:{'class':'form-control'}}) }}
															</div>
															<div class="col-md-6">
																<label>Pr√©nom</label> {{ form_widget(formedituser.firstname , {attr:{'class':'form-control'}}) }}
															</div>
														</div>
													</div>
													<div class="form-group">
														<div class="row">
															<div class="col-md-6">
																<label>Email</label> {{ form_widget(formedituser.email , {attr:{'class':'form-control'}}) }}
															</div>
															{% if is_granted('ROLE_ADMIN') %}

																<div class="col-md-6">
																	<label>Role</label> {{ form_widget(formedituser.roles , {attr:{'class':'form-control'}}) }}
																</div>
															{% endif %}
														</div>
													</div>

													<div class="text-right"> {{ form_row(formedituser.Enregistrer , {attr:{'class':'btn btn-primary'}}) }}
													</div> {{ form_end(formedituser) }}

												</div>
											</div>
											<!-- /profile info -->


											<!-- Account settings -->
											<div class="card">
												<div class="card-header header-elements-inline">
													<h5 class="card-title">Modification de Mot de passe</h5>
													<div class="header-elements"></div>
												</div>

												<div class="card-body"> {{ form_start(formPassword) }}
													<div class="form-group">
														<div class="row">
															<div class="col-md-12">
																<label>Mot de passe</label> {{ form_widget(formPassword.plainPassword , {attr:{'class':'form-control'}}) }}
															</div>
														</div>
													</div>
													<div class="text-right"> {{ form_row(formPassword.Enregistrer , {attr:{'class':'btn btn-primary'}}) }}
													</div> {{ form_end(formPassword) }}
												</div>
											</div>
											<!-- /account settings -->

										</div>
									</div>
									<!-- /left content -->


									<!-- Right sidebar component -->
									<div
										class="sidebar sidebar-light bg-transparent sidebar-component sidebar-component-right wmin-300 border-0 shadow-0 order-1 order-md-2 sidebar-expand-md">

										<!-- Sidebar content -->
										<div
											class="sidebar-content">

											<!-- User card -->
											<div class="card">
												<div class="card-body text-center">
													<div class="card-img-actions d-inline-block mb-3">
														<img class="img-fluid rounded-circle" src="{{asset('templateAdmin/global_assets/images/placeholders/placeholder.jpg')}}" width="170" height="170" alt="">
														<div class="card-img-actions-overlay card-img rounded-circle">
															<a href="#" class="btn btn-outline bg-white text-white border-white border-2 btn-icon rounded-round">
																<i class="icon-plus3"></i>
															</a>
															<a href="user_pages_profile.html" class="btn btn-outline bg-white text-white border-white border-2 btn-icon rounded-round ml-2">
																<i class="icon-link"></i>
															</a>
														</div>
													</div>

													<h6 class="font-weight-semibold mb-0">{{ app.user.firstname }} {{ app.user.name }}</h6>
													<span class="d-block text-muted"></span>


												</div>
											</div>
											<!-- /user card -->
										</div>
										<!-- /sidebar content -->
									</div>
									<!-- /right sidebar component -->
								</div>
								<!-- /inner container -->
							</div>
							<!-- Content area -->
							<div class="content"></div>
							<!-- /content area -->
						</div>


					</div>

				</div>
			</div>
		{% endblock %}
{% block javascript %}
<script type="text/javascript">
		$('document').ready(function(){
			$('#edit_form_roles input').change(function(){
				$('#edit_form_roles input').prop( "checked", false );
				$(this).prop( "checked", true );
			});
		});
</script>
{% endblock %}
